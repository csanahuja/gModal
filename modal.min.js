/**
 * Modal
 * A modal library made with raw js
 * 
 * @version 1.0
 * 
 * @author Javier Sanahuja <bannss1@gmail.com>
 * 
 * https://github.com/jsanahuja/modal
 */
var Modal=function(){function g(a){return a.className.split(" ").filter(function(a){return 0<a.length})}function h(a,b){if(0<=g(a).indexOf(b)){var e=g(a);e.splice(e.indexOf(b),1);a.className=e.join(" ")}}function k(a){if(this.display)for(var b=a.keyCode||a.which,e=Object.keys(this.bindings),d=0;d<e.length;d++)if(e[d]==b)return a.preventDefault(),a.stopPropagation(),this.bindings[e[d]](this),!1}function l(a,b){"undefined"!==typeof this.bindings[a]&&console.warn("Modal: Tried to bind the key "+a+" twice. Overriding...");
this.bindings[a]=b}function m(){this.addEventListener("keydown",k,!1)}function n(){this.removeEventListener("keydown",k,!1)}var p={title:"Default modal title",body:"This is the default body. It can include <strong>html</strong>. You can also leave it empty so we will hide it :).",buttons:[],close:{closable:!0,location:"in",bindKey:27,callback:function(a){alert("You used the close functionality!");a.hide()}},onShow:function(a){},onHide:function(a){a.destroy()},onCreate:function(a){},onDestroy:function(a){}};
"function"!=typeof Object.assign&&(Object.assign=function(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var b=1;b<arguments.length;b++){var e=arguments[b];if(null!=e)for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}return a});return function(a,b){this.id=b||Math.random().toString(36).substr(2);this.options=Object.assign({},p,a);this.display=!1;this.bindings={};this.show=function(){if("undefined"!==typeof this.wrapper){var a=this.wrapper;
0<=g(a).indexOf("modal-active")||(a.className+=" modal-active");a=document.body;0<=g(a).indexOf("modal-active")||(a.className+=" modal-active");this.display=!0;this.options.onShow(this)}};this.hide=function(){"undefined"!==typeof this.wrapper&&(h(this.wrapper,"modal-active"),h(document.body,"modal-active"),this.display=!1,this.options.onHide(this))};this.create=function(){if("undefined"===typeof this.wrapper){this.wrapper=document.createElement("div");this.wrapper.className="modal-wrapper";this.wrapper.id=
"modal-wrapper-"+this.id;var a=document.createElement("div");a.className="modal-backdrop";var d=document.createElement("div");d.className="modal-dialog";if("undefined"!==typeof this.options.close.closable&&this.options.close.closable){var c=document.createElement("a");c.setAttribute("href","javascript:void(0);");"undefined"===typeof this.options.close.callback&&(this.options.close.callback=function(){});c.modal=this;c.callback=this.options.close.callback;c.onclick=function(a){a.preventDefault();a.stopPropagation();
this.callback(this.modal);return!1};"number"===typeof this.options.close.bindKey&&l(this.options.close.bindKey,this.options.close.callback);"undefined"===typeof this.options.close.location||"in"==this.options.close.location?(c.className="modal-close-in",d.appendChild(c)):(c.className="modal-close-out",a.appendChild(c))}""!=this.options.title&&(c=document.createElement("div"),c.className="modal-title",c.innerHTML=this.options.title,d.appendChild(c));""!=this.options.body&&(c=document.createElement("div"),
c.className="modal-body",c.innerHTML=this.options.body,d.appendChild(c));if(0<this.options.buttons.length){c=document.createElement("div");c.className="modal-buttons";for(var b=0;b<this.options.buttons.length;b++){var f=document.createElement("a");f.setAttribute("href","javascript:void(0);");f.className="modal-button";"undefined"!==typeof this.options.buttons[b].classes&&(f.className+=" "+this.options.buttons[b].classes);"undefined"!==typeof this.options.buttons[b].content&&(f.innerHTML=this.options.buttons[b].content);
"undefined"===typeof this.options.buttons[b].callback&&(this.options.buttons[b].callback=function(){});f.modal=this;f.callback=this.options.buttons[b].callback;f.onclick=function(a){a.preventDefault();a.stopPropagation();this.callback(this.modal);return!1};"undefined"!==typeof this.options.buttons[b].bindKey&&l(this.options.buttons[b].bindKey,this.options.buttons[b].callback);c.appendChild(f)}d.appendChild(c)}this.wrapper.appendChild(a);this.wrapper.appendChild(d);document.body.appendChild(this.wrapper);
m();this.options.onCreate(this)}};this.destroy=function(){"undefined"!==typeof this.wrapper&&(document.body.removeChild(this.wrapper),this.wrapper=void 0,n(),this.options.onDestroy(this))};this.create();return this}}();