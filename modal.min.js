/**
 * Modal
 * A modal library made with raw js
 * 
 * @version 1.0
 * 
 * @author Javier Sanahuja <bannss1@gmail.com>
 * 
 * https://github.com/jsanahuja/modal
 */
var Modal=function(){function g(a){return a.className.split(" ").filter(function(a){return 0<a.length})}function k(a,f){if(0<=g(a).indexOf(f)){var b=g(a);b.splice(b.indexOf(f),1);a.className=b.join(" ")}}var l={title:"Default modal title",body:"This is the default body. It can include <strong>html</strong>. You can also leave it empty so we will hide it :).",buttons:[],close:{closable:!0,location:"in",bindKey:27,callback:function(a){alert("You used the close functionality!");a.hide()}},onShow:function(a){},
onHide:function(a){a.destroy()},onCreate:function(a){},onDestroy:function(a){}};"function"!=typeof Object.assign&&(Object.assign=function(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var f=1;f<arguments.length;f++){var b=arguments[f];if(null!=b)for(var h in b)Object.prototype.hasOwnProperty.call(b,h)&&(a[h]=b[h])}return a});return function(a,f){this.id=f||Math.random().toString(36).substr(2);this.options=Object.assign({},l,a);this.display=!1;this.bindings=
{};this.onKeyPress=function(b){if(this.display)for(var a=b.keyCode||b.which,c=Object.keys(this.bindings),d=0;d<c.length;d++)if(c[d]==a)return b.preventDefault(),b.stopPropagation(),this.bindings[c[d]](this),!1};this.bind=function(b,a){"undefined"!==typeof this.bindings[b]&&console.warn("Modal: Tried to bind the key "+b+" twice. Overriding...");this.bindings[b]=a};this.addKeyListener=function(){window.addEventListener("keydown",this.onKeyPress,!1)};this.removeKeyListener=function(){window.removeEventListener("keydown",
this.onKeyPress,!1)};this.show=function(){if("undefined"!==typeof this.wrapper){var b=this.wrapper;0<=g(b).indexOf("modal-active")||(b.className+=" modal-active");b=document.body;0<=g(b).indexOf("modal-active")||(b.className+=" modal-active");this.display=!0;this.options.onShow(this)}};this.hide=function(){"undefined"!==typeof this.wrapper&&(k(this.wrapper,"modal-active"),k(document.body,"modal-active"),this.display=!1,this.options.onHide(this))};this.create=function(){if("undefined"===typeof this.wrapper){this.wrapper=
document.createElement("div");this.wrapper.className="modal-wrapper";this.wrapper.id="modal-wrapper-"+this.id;var b=document.createElement("div");b.className="modal-backdrop";var a=document.createElement("div");a.className="modal-dialog";if("undefined"!==typeof this.options.close.closable&&this.options.close.closable){var c=document.createElement("a");c.setAttribute("href","javascript:void(0);");"undefined"===typeof this.options.close.callback&&(this.options.close.callback=function(){});c.modal=this;
c.callback=this.options.close.callback;c.onclick=function(a){a.preventDefault();a.stopPropagation();this.callback(this.modal);return!1};"number"===typeof this.options.close.bindKey&&this.bind(this.options.close.bindKey,this.options.close.callback);"undefined"===typeof this.options.close.location||"in"==this.options.close.location?(c.className="modal-close-in",a.appendChild(c)):(c.className="modal-close-out",b.appendChild(c))}""!=this.options.title&&(c=document.createElement("div"),c.className="modal-title",
c.innerHTML=this.options.title,a.appendChild(c));""!=this.options.body&&(c=document.createElement("div"),c.className="modal-body",c.innerHTML=this.options.body,a.appendChild(c));if(0<this.options.buttons.length){c=document.createElement("div");c.className="modal-buttons";for(var d=0;d<this.options.buttons.length;d++){var e=document.createElement("a");e.setAttribute("href","javascript:void(0);");e.className="modal-button";"undefined"!==typeof this.options.buttons[d].classes&&(e.className+=" "+this.options.buttons[d].classes);
"undefined"!==typeof this.options.buttons[d].content&&(e.innerHTML=this.options.buttons[d].content);"undefined"===typeof this.options.buttons[d].callback&&(this.options.buttons[d].callback=function(){});e.modal=this;e.callback=this.options.buttons[d].callback;e.onclick=function(a){a.preventDefault();a.stopPropagation();this.callback(this.modal);return!1};"undefined"!==typeof this.options.buttons[d].bindKey&&this.bind(this.options.buttons[d].bindKey,this.options.buttons[d].callback);c.appendChild(e)}a.appendChild(c)}this.wrapper.appendChild(b);
this.wrapper.appendChild(a);document.body.appendChild(this.wrapper);this.addKeyListener();this.options.onCreate(this)}};this.destroy=function(){"undefined"!==typeof this.wrapper&&(document.body.removeChild(this.wrapper),this.wrapper=void 0,this.removeKeyListener(),this.options.onDestroy(this))};this.create();return this}}();